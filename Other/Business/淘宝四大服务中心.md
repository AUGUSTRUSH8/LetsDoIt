### 淘宝四大服务中心

在阿里巴巴集团的中台战略中，共享服务中心是中台架构的基石，如何构建稳定可靠、最高效地支撑上层业务快速创新的共享服务能力是中台战略成功落地的关键。

一般来说，服务能力包括两个层次，一个层次是底层PaaS的能力，PaaS层解决大型架构在分布式、可靠性、可用性、容错、监控以及运维层面上的通用需求；第二个层次是业务能力，业务服务能力提供云化的核心业务支撑能力，这层能力建设的好与坏，直接决定了是否能真正支持上层业务达到敏捷、稳定、高效。

对于如何建设共享服务中心，很多人经常提出以下问题：

- 淘宝的各个服务中心是怎么建设的？
- 我需要几个服务中心，服务中心的边界是什么？有没有一些划分的原则和标准？
- 服务中心应该多大合适？对应的组织团队和流程应该怎么保障？
- 服务中心里面的服务数量应该有多少？粒度应该多大？
- 下面通过淘宝共享服务中心建设的历程对这些问题做一部分的解答。
- 淘宝的共享服务中心概貌

淘宝的共享服务中心包括多个服务中心。最初有四大服务中心：**用户中心（UIC）、商品中心（IC）、交易中心（TC）、店铺中心（SC）**。随着业务的不断发展，越来越多的服务能力沉淀到了共享服务中心，比如后期的**物流中心、营销中心、数据服务中心**等。接下来就对历史最为“悠久”的四大服务中心做一个介绍，使读者快速了解服务中心的概貌。

**1.用户中心**

用户中心是淘宝进行业务服务化历程中所构建的第一个服务中心，它统一了淘宝原来的各个业务线分散的用户体系，统一了用户数据、存储和服务接口。选择用户中心作为第一个建设的服务中心主要的原因是，跟用户相关的服务是被上层业务调用最频繁的服务，最大效率节省开发和维护成本的同时，也最能验证出服务化后和系统解耦后给业务快速响应带来的效果。另一个原因则是用户中心相比于商品、交易中心在业务复杂程度和重要性上都要小一些，所以对于采用新架构进行的重构尝试，能将服务化改造的风险降到比较低的水准。

用户中心构建了整个阿里巴巴集团统一的用户体系，用户中心服务提供了统一的服务接口，即简化了上层业务的使用，也方便了接下来对用户的大数据分析。同时成立了专门负责用户中心运营的团队后，显著提升了对业务需求的响应效率；系统在实现解耦后，服务的稳定性和可扩展性都得到了极大的提高。事实证明，建立用户中心是淘宝在进行服务化尝试过程中一个具有里程碑意义的事件。

**2.商品中心**

淘宝的商品中心建设非常有代表意义，淘宝是平台型的电商，商品管理其实是最复杂的业务场景之一。原因有以下几个。

首先，商品数据量大，淘宝有十几亿的商品，每天新增的商品量可能比有些电商商品的总量还大。其次，卖家众多，卖家的电脑技能、对电商的认识以及全国不同地域卖家对同一件商品的叫法都可能有很大差异，这导致了商品发布是个很大麻烦，一套统一的商品发布体系很难同时满足各种卖家（B和C）的需求。第三，商品数据是电商导购的入口，对数据质量有很高的要求，而且这些数据商品搜索的数据源，可以想象，如果搜索出来的商品数据杂乱无章，用户怎么可能下单，所以建设高质量的商品数据库是商品管理的重要课题。第四，类目运营小二要根据商品的分析数据来优化商品的前端类目结构。所有这些都是淘宝的商品体系面对的难题。而且随着业务的发展，还有更多更艰巨的挑战需要面对。

因此，建立淘宝的商品中心从一开始就注定了是一条不平凡之路。商品库的数据库管理难度最大，商品中心需要对上层提供的服务能力包括以下几个方面：

商品描述能力。商品描述能力主要包括三方面，一是商品的描述数据模型，具体就是类目属性体系、SPU、SKU等，这用于为整个商品建立一个统一的、灵活的、易于使用的商品数据模型；二是商品的存储模型，就是商品数据在数据库中的存储结构；三是对外提供的服务接口，上层业务通过服务接口操作商品数据。这一部分的能力屏蔽了商品内部的实现细节，简化了上层业务操作商品数据。

商品发布能力。对上层业务来说，商品发布能力其实是一个个性化需求比较大的能力，比如B端商家需要通过Open API直接对接现在企业的商品进销存系统；C端小商家直接使用浏览器能进行发布；C端大商家可能更喜欢使用C/S客户端的方式发布；无线端用户可能更喜欢轻量级的发布，用APP或者手机扫码就能发布。所以发布能力在商品中心是提供通用的发布服务接口和标准的发布工具，业务层自己会根据业务需求提供满足业务需求的发布工具。从这个场景大家可以感受到服务与业务的边界，“服务中心一定是实现通用的能力，个性化尽量在业务层实现”。

商品管理能力。管理一个超过10多亿数量的商品库绝对是一个非常有难度的事，淘宝的商品是个百科全书，号称“只有你想不到，没有你找不到”，这个商品库的组织管理比世界上最大的图书馆管理难度还要大。第一，商品数据每天都在更新，而且量很大；第二，商品的类目总是在跟着时代变化，比如原来商品主要就是实体百货类，后来增加了汽车类，再后来又有了服务类商品，再后来又有了智能设备类，商品的类目以及描述都在随着每天新进入的商品和市场的变化在改变。

淘宝有全世界最大的商品库，所以商品SPU数据必须自己建设。因为任何一个机构都不能提供这么全面的SPU数据，而且不同行业，不同商家提供的这种数据也千差万别，所以这个SPU库也只能自己建设，自己维护。

商品巡检的能力。商品都是有生命周期的，用户发布的商品如果太长时间没有管理，用户本身也长时间没有登录，那这种非活跃卖家可能本身就不再经营店铺了。要能识别这种商品，从活跃商品库中剔除，否则不但浪费大量的计算和存储资源，还给买家带来极其糟糕的用户体验。

有些卖家为了利用淘宝商品的搜索引擎排序规则，会为商品加上一些热门的搜索词，这些词严重干扰搜索的准确率，要能发现这类违规的描述；有些卖家描述商品使用比较随意的文字，与淘宝的商品描述体系中其他用户的认知不一致，系统要能发现并纠正用户的这种随意行为。

商品数据数据分析的能力。运营小二要进行日常运营、营销活动、类目调整，都需要数据的支持，商品中心能自动聚合推荐的类目数据并提供调整的决策支持。在淘宝这种平台型的电商体系下，针对商品的大数据能力是必须要求的。

商品评价的能力。成功交易的订单，淘宝引入了商品评价体系可以评论商品和卖家，评价中心的职责就是要识别正常的评价，剔除恶意的差评与好评，从而建立更公平的商品评价体系。

前期的淘宝商品中心就由这5大领域的能力构成，虽然名字只是一个商品中心，但是整个商品中心团队聚合了一大批运营、产品、研发、大数据方面的业务专家。

**3.交易中心**

交易中心是电商的交易业务领域的服务中心，包含交易相关的服务信息，比如购物车、交易流程、订单管理、支持、结算、营销等。初期，淘宝的交易中心聚合了很多相关的业务服务，后来随着业务的发展，交易中心有了相应的调整，比如后来拆分出来了营销中心。服务中心都是这样动态发展进化的过程，比如由于天猫业务的发展，对库存有了更高的要求，所以后来从商品中心独立出来了库存中心。

**4.店铺中心**

店铺中心承担了卖家店铺管理、店铺装修、店铺生命周期管理、店铺日常管理等业务，在店铺体系下，发展了淘宝最具活力的第三方店铺装修市场，这是平台化的最好实践。



文章引用自阿里架构师古谦（花名），[原文地址](https://mp.weixin.qq.com/s/h5RQPO1W9QS1pZBKfyfTYg)